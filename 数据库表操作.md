[toc]

# 创建和管理表


## 标识符命名规则


- 数据库名、表名不能超过30个字符，变量名限制为 29 个；
- 必须只能包含 `A~Z`、`a~z`、`0~9` 共 63 个字符;
- 数据库名、表名、字段名等对象名中间不能包含空格;
- 同一个 mysql 软件中，数据库不能重名，同一个数据库中表名不能重复，同一个表中字段名不能重复;
- 必须保证字段没有和保留字、数据库系统或常用方法冲突，如果坚持要使用，需要在sql 语句中使用 ` 着重号包裹;
- 保持字段名和类型的一致，在命名字段，并为其指定数据类型的时候一定要保证一致性；


## mysql 中的数据类型

| 类型 | 类型举例 |
| -- | -- |
| 整数类型 | `TINYINT`、`SMALLINT`、`MEDIUMINT`、`INT 或 INTEGER`、`BIGINT` |
| 浮点类型 | `FLOAT`、`DOUBLE` |
| 定点数类型 | `DECIMAL` |
| 位类型 | `BIT` |
| 日期时间类型 | `YEAR`、`TIME`、`DATE`、`DATETIME`、`TIMESTAMP` |
| 文本字符串类型 | `CHAR`、`VARCHAR`、`TINYTEXT`、`TEXT`、`MEDIUMINT`、`LONGTEXT` |
| 枚举类型 | `ENUM` |
| 集合类型 | `SET` |
| 二进制字符串类型 | `BINARY`、`VARBINARY`、`TINYBLOB`、`BLOB`、`MEDIUEBLOB`、`LONGBLOB` |
| JSON类型 | JSON对象、JSON数组 |
| 空间数据类型 | 单值: `GEOMETRY`、`POINT`、`LINESTRING`、`POLYGON` <br/> 集合: `MULTIPOINT`、`MULTILINESTRING`、`MULTIPOLYGON`、`GEOMETRYCOLLECTION` |


常用的数据类型如下:

| 数据类型 | 描述 |
| -- | -- |
| `INT` | 从 `-2^31 ~ 2^31 -1` 区间的整型数据。存储大小位 4 字节; |
| `CHAR(size)` | 定长字符数据。若未指定，默认为 1 个字符，最大长度 255 ; |
| `VARCHAR(size)` | 可变长字符数据，根据字符串实际长度保存，必须指定长度; |
| `FLOAT(M, D)` | 单精度，占用 4 字节。</br> M: 总的位数(整数位+小数位) </br> D: 小数位，例如 FLOAT(7, 4) 表示总位数可以有7位，其中4位在小数点后。</br> D<=M<=255，0<=D<=30，默认 M+D<=6 |
| `DOUBLE(M, D)` | 双精度，占用 8 字节。</br> D<=M<=255，0<=D<=30，默认 M+D<=15 |
| `DECIMAL(M, D)` | 高精度小数，占用 M+2 个字节。 </br> D<=M<=65，0<=D<=30，最大取值范围与 `DOUBLE` 相同。 |
| `DATE` | 日期类型数据，格式 `YYYY-MM-DD` |
| `BLOB` | 二进制形式的长文本数据，最大可达 4G; |
| `TEXT` | 长文本数据，最大可达 4G; |


# 创建和管理数据库

## 创建数据库

```sql
# 方式1
CREATE DATABASE 数据库名称;

# 方式2 创建数据库并指定字符集
CREATE DATABASE 数据库名 CHARACTER SET 字符集;

# 方式3 判断数据库是否存在，不存在则创建
CREATE DATABASE IF NOT EXISTS 数据库名;
```

## 使用数据库

1. 查看当前所有的数据库

```sql
SHOW DATABASES;
```

2. 查看当前使用的数据库

```sql
SELECT DATABASE();
```

3. 查看指定数据库下的所有表

```sql
SHOW TABLES() FROM 数据库名;

# 如果是查看当前选定的数据库，可以省略 FROM 子句
SHOW TABLES();
```

4. 查看数据库的创建信息

```sql
SHOW CREATE DATABASE 数据库名;

或

SHOW CREATE DATABASE 数据库名\G;
```

5. 使用/切换数据库

```sql
USE 数据库名;
```

## 修改数据库


修改数据库字符集
   
```sql
# 字符集 GBK、UTF-8 等
ALTER DATABASE 数据库名 CHARACTER SET 字符集;
```


## 删除数据库

```sql
# 删除指定数据库
DROP DATABASE 数据库名;

# 删除指定数据库
DROP DATABASE IF EXISTS 数据库名;
```

# 创建表

## 创建表

```sql
CREATE TABLE [IF NOT EXISTS] 表名(
    字段1 数据类型 [约束条件] [默认值],
    字段2 数据类型 [约束条件] [默认值],
    字段3 数据类型 [约束条件] [默认值],
    ...
    [表约束条件]
)
```

`IF NOT EXISTS` 关键字，表示 如果数据库中已经存在了对应的表，则忽略建表语句，不再重复创建表。如果数据库中没有对应的表，则创建对应的表;

建表 case

```sql
create table if not exists 
emp(
    # int 类型
    emp_id int, 
    # 最多保存 20 个中英文字符
    emp_name varchar(20), 
    # 总位数不超过15位
    salary double, 
    # 日期类型
    birthday date
    );

desc emp;
+----------+-------------+------+-----+---------+-------+
| Field    | Type        | Null | Key | Default | Extra |
+----------+-------------+------+-----+---------+-------+
| emp_id   | int         | YES  |     | NULL    |       |
| emp_name | varchar(20) | YES  |     | NULL    |       |
| salary   | double      | YES  |     | NULL    |       |
| birthday | date        | YES  |     | NULL    |       |
+----------+-------------+------+-----+---------+-------+
4 rows in set (0.00 sec)
```

## 创建表并导入数据

使用 `AS subquery` 选项，将创建表和插入数据结合起来

- 指定的列需要和子查询中的列要一一对应;
- 通过列名和默认值定义列;

```sql
create table if not exists emp2(
    字段1 数据类型 [约束条件] [默认值],
    字段2 数据类型 [约束条件] [默认值],
    ...
)
AS subquery;
```

创建 emp1 表，并导入 employees 表中的所有数据

```sql
create table emp1 as select * from employees;

Query OK, 107 rows affected, 2 warnings (0.06 sec)
Records: 107  Duplicates: 0  Warnings: 2
```

创建 emp2 表，并导入 employees 表中 department_id = 80 的用户数据

```sql
create table emp2 as select * from employees where department_id = 80;

Query OK, 34 rows affected, 2 warnings (0.04 sec)
Records: 34  Duplicates: 0  Warnings: 2

select * from emp2;
+-------------+-------------+------------+----------+--------------------+------------+--------+----------+----------------+------------+---------------+
| employee_id | first_name  | last_name  | email    | phone_number       | hire_date  | job_id | salary   | commission_pct | manager_id | department_id |
+-------------+-------------+------------+----------+--------------------+------------+--------+----------+----------------+------------+---------------+
|         145 | John        | Russell    | JRUSSEL  | 011.44.1344.429268 | 1996-10-01 | SA_MAN | 14000.00 |           0.40 |        100 |            80 |
|         146 | Karen       | Partners   | KPARTNER | 011.44.1344.467268 | 1997-01-05 | SA_MAN | 13500.00 |           0.30 |        100 |            80 |
|         147 | Alberto     | Errazuriz  | AERRAZUR | 011.44.1344.429278 | 1997-03-10 | SA_MAN | 12000.00 |           0.30 |        100 |            80 |
|         148 | Gerald      | Cambrault  | GCAMBRAU | 011.44.1344.619268 | 1999-10-15 | SA_MAN | 11000.00 |           0.30 |        100 |            80 |
|         149 | Eleni       | Zlotkey    | EZLOTKEY | 011.44.1344.429018 | 2000-01-29 | SA_MAN | 10500.00 |           0.20 |        100 |            80 |
|         150 | Peter       | Tucker     | PTUCKER  | 011.44.1344.129268 | 1997-01-30 | SA_REP | 10000.00 |           0.30 |        145 |            80 |
|         151 | David       | Bernstein  | DBERNSTE | 011.44.1344.345268 | 1997-03-24 | SA_REP |  9500.00 |           0.25 |        145 |            80 |
|         152 | Peter       | Hall       | PHALL    | 011.44.1344.478968 | 1997-08-20 | SA_REP |  9000.00 |           0.25 |        145 |            80 |
|         153 | Christopher | Olsen      | COLSEN   | 011.44.1344.498718 | 1998-03-30 | SA_REP |  8000.00 |           0.20 |        145 |            80 |
|         154 | Nanette     | Cambrault  | NCAMBRAU | 011.44.1344.987668 | 1998-12-09 | SA_REP |  7500.00 |           0.20 |        145 |            80 |
|         155 | Oliver      | Tuvault    | OTUVAULT | 011.44.1344.486508 | 1999-11-23 | SA_REP |  7000.00 |           0.15 |        145 |            80 |
|         156 | Janette     | King       | JKING    | 011.44.1345.429268 | 1996-01-30 | SA_REP | 10000.00 |           0.35 |        146 |            80 |
|         157 | Patrick     | Sully      | PSULLY   | 011.44.1345.929268 | 1996-03-04 | SA_REP |  9500.00 |           0.35 |        146 |            80 |
|         158 | Allan       | McEwen     | AMCEWEN  | 011.44.1345.829268 | 1996-08-01 | SA_REP |  9000.00 |           0.35 |        146 |            80 |
|         159 | Lindsey     | Smith      | LSMITH   | 011.44.1345.729268 | 1997-03-10 | SA_REP |  8000.00 |           0.30 |        146 |            80 |
|         160 | Louise      | Doran      | LDORAN   | 011.44.1345.629268 | 1997-12-15 | SA_REP |  7500.00 |           0.30 |        146 |            80 |
|         161 | Sarath      | Sewall     | SSEWALL  | 011.44.1345.529268 | 1998-11-03 | SA_REP |  7000.00 |           0.25 |        146 |            80 |
|         162 | Clara       | Vishney    | CVISHNEY | 011.44.1346.129268 | 1997-11-11 | SA_REP | 10500.00 |           0.25 |        147 |            80 |
|         163 | Danielle    | Greene     | DGREENE  | 011.44.1346.229268 | 1999-03-19 | SA_REP |  9500.00 |           0.15 |        147 |            80 |
|         164 | Mattea      | Marvins    | MMARVINS | 011.44.1346.329268 | 2000-01-24 | SA_REP |  7200.00 |           0.10 |        147 |            80 |
|         165 | David       | Lee        | DLEE     | 011.44.1346.529268 | 2000-02-23 | SA_REP |  6800.00 |           0.10 |        147 |            80 |
|         166 | Sundar      | Ande       | SANDE    | 011.44.1346.629268 | 2000-03-24 | SA_REP |  6400.00 |           0.10 |        147 |            80 |
|         167 | Amit        | Banda      | ABANDA   | 011.44.1346.729268 | 2000-04-21 | SA_REP |  6200.00 |           0.10 |        147 |            80 |
|         168 | Lisa        | Ozer       | LOZER    | 011.44.1343.929268 | 1997-03-11 | SA_REP | 11500.00 |           0.25 |        148 |            80 |
|         169 | Harrison    | Bloom      | HBLOOM   | 011.44.1343.829268 | 1998-03-23 | SA_REP | 10000.00 |           0.20 |        148 |            80 |
|         170 | Tayler      | Fox        | TFOX     | 011.44.1343.729268 | 1998-01-24 | SA_REP |  9600.00 |           0.20 |        148 |            80 |
|         171 | William     | Smith      | WSMITH   | 011.44.1343.629268 | 1999-02-23 | SA_REP |  7400.00 |           0.15 |        148 |            80 |
|         172 | Elizabeth   | Bates      | EBATES   | 011.44.1343.529268 | 1999-03-24 | SA_REP |  7300.00 |           0.15 |        148 |            80 |
|         173 | Sundita     | Kumar      | SKUMAR   | 011.44.1343.329268 | 2000-04-21 | SA_REP |  6100.00 |           0.10 |        148 |            80 |
|         174 | Ellen       | Abel       | EABEL    | 011.44.1644.429267 | 1996-05-11 | SA_REP | 11000.00 |           0.30 |        149 |            80 |
|         175 | Alyssa      | Hutton     | AHUTTON  | 011.44.1644.429266 | 1997-03-19 | SA_REP |  8800.00 |           0.25 |        149 |            80 |
|         176 | Jonathon    | Taylor     | JTAYLOR  | 011.44.1644.429265 | 1998-03-24 | SA_REP |  8600.00 |           0.20 |        149 |            80 |
|         177 | Jack        | Livingston | JLIVINGS | 011.44.1644.429264 | 1998-04-23 | SA_REP |  8400.00 |           0.20 |        149 |            80 |
|         179 | Charles     | Johnson    | CJOHNSON | 011.44.1644.429262 | 2000-01-04 | SA_REP |  6200.00 |           0.10 |        149 |            80 |
+-------------+-------------+------------+----------+--------------------+------------+--------+----------+----------------+------------+---------------+
34 rows in set (0.00 sec)
```

创建 emp3 表，并导入 employees 表中 department_id = 80 的用户的 employee_id 和 last_name 字段 作为表数据

```sql
create table emp3 as select employee_id, last_name from employees where department_id = 80;

Query OK, 34 rows affected (0.03 sec)
Records: 34  Duplicates: 0  Warnings: 0

select * from emp3;
+-------------+------------+
| employee_id | last_name  |
+-------------+------------+
|         145 | Russell    |
|         146 | Partners   |
|         147 | Errazuriz  |
|         148 | Cambrault  |
|         149 | Zlotkey    |
|         150 | Tucker     |
|         151 | Bernstein  |
|         152 | Hall       |
|         153 | Olsen      |
|         154 | Cambrault  |
|         155 | Tuvault    |
|         156 | King       |
|         157 | Sully      |
|         158 | McEwen     |
|         159 | Smith      |
|         160 | Doran      |
|         161 | Sewall     |
|         162 | Vishney    |
|         163 | Greene     |
|         164 | Marvins    |
|         165 | Lee        |
|         166 | Ande       |
|         167 | Banda      |
|         168 | Ozer       |
|         169 | Bloom      |
|         170 | Fox        |
|         171 | Smith      |
|         172 | Bates      |
|         173 | Kumar      |
|         174 | Abel       |
|         175 | Hutton     |
|         176 | Taylor     |
|         177 | Livingston |
|         179 | Johnson    |
+-------------+------------+
34 rows in set (0.00 sec)
```

创建 emp4 表，跟 employees 表结构相同，但不导入数据

```sql
create table emp4 as select * from employees where 1 = 2;

Query OK, 0 rows affected, 2 warnings (0.04 sec)
Records: 0  Duplicates: 0  Warnings: 2
```


## 修改表

修改表是指修改数据库中已经存在的数据表的结构;

使用 `ALTER TABLE` 语句可以实现:

- 向已有的表中添加列;
- 修改现有表中的列；
- 删除现有表中的列;
- 重命名现有表中的列;


### 追加一个列

追加一个列的语法格式如下:

```sql
ALTER TABLE 表名 ADD 字段名 字段类型 [约束条件];
```

case1:

```sql
desc emp3;
+-------------+-------------+------+-----+---------+-------+
| Field       | Type        | Null | Key | Default | Extra |
+-------------+-------------+------+-----+---------+-------+
| employee_id | int         | NO   |     | 0       |       |
| last_name   | varchar(25) | NO   |     | NULL    |       |
+-------------+-------------+------+-----+---------+-------+
2 rows in set (0.00 sec)

alter table emp3 add salary double not null default 0.0;
Query OK, 0 rows affected (0.05 sec)
Records: 0  Duplicates: 0  Warnings: 0

desc emp3;
+-------------+-------------+------+-----+---------+-------+
| Field       | Type        | Null | Key | Default | Extra |
+-------------+-------------+------+-----+---------+-------+
| employee_id | int         | NO   |     | 0       |       |
| last_name   | varchar(25) | NO   |     | NULL    |       |
| salary      | double      | NO   |     | 0       |       |
+-------------+-------------+------+-----+---------+-------+
3 rows in set (0.00 sec)
```


### 修改列

修改列语法格式

```sql
ALTER TABLE 表名 MODIFY [COLUMN] 字段名1 字段类型 [约束条件] [DEFAUT 默认值];
```


case 修改 last_name 为 30 个字符，不为空，默认值为 ''

```sql
desc emp3;
+-------------+-------------+------+-----+---------+-------+
| Field       | Type        | Null | Key | Default | Extra |
+-------------+-------------+------+-----+---------+-------+
| employee_id | int         | NO   |     | 0       |       |
| last_name   | varchar(25) | NO   |     | NULL    |       |
| salary      | double      | YES  |     | 0       |       |
+-------------+-------------+------+-----+---------+-------+
3 rows in set (0.00 sec)


alter table emp3 modify last_name varchar(30) not null default '';
Query OK, 0 rows affected (0.02 sec)
Records: 0  Duplicates: 0  Warnings: 0


desc emp3;
+-------------+-------------+------+-----+---------+-------+
| Field       | Type        | Null | Key | Default | Extra |
+-------------+-------------+------+-----+---------+-------+
| employee_id | int         | NO   |     | 0       |       |
| last_name   | varchar(30) | NO   |     |         |       |
| salary      | double      | YES  |     | 0       |       |
+-------------+-------------+------+-----+---------+-------+
3 rows in set (0.00 sec)
```


### 重命名列

重命名列语法格式

```sql
ALTER TABLE 表名 CHANGE [column] 列名 新列名 数据类型;
```

case 修改 last_name 为 employee_name

```sql
desc emp3;
+-------------+-------------+------+-----+---------+-------+
| Field       | Type        | Null | Key | Default | Extra |
+-------------+-------------+------+-----+---------+-------+
| employee_id | int         | NO   |     | 0       |       |
| last_name   | varchar(30) | NO   |     |         |       |
| salary      | double      | YES  |     | 0       |       |
+-------------+-------------+------+-----+---------+-------+
3 rows in set (0.00 sec)


alter table emp3 change last_name employee_name varchar(30);
Query OK, 0 rows affected (0.09 sec)
Records: 0  Duplicates: 0  Warnings: 0


desc emp3;
+---------------+-------------+------+-----+---------+-------+
| Field         | Type        | Null | Key | Default | Extra |
+---------------+-------------+------+-----+---------+-------+
| employee_id   | int         | NO   |     | 0       |       |
| employee_name | varchar(30) | YES  |     | NULL    |       |
| salary        | double      | YES  |     | 0       |       |
+---------------+-------------+------+-----+---------+-------+
3 rows in set (0.00 sec)
```


### 删除列

删除列语法格式

```sql
ALTER TABLE 表名 DROP [COLUMN] 字段名;
```

case 先添加 salary1 和 salary2 字段，然后删除

```sql
desc emp3;
+---------------+-------------+------+-----+---------+-------+
| Field         | Type        | Null | Key | Default | Extra |
+---------------+-------------+------+-----+---------+-------+
| employee_id   | int         | NO   |     | 0       |       |
| employee_name | varchar(30) | YES  |     | NULL    |       |
+---------------+-------------+------+-----+---------+-------+
2 rows in set (0.00 sec)

# 添加 salary1 和 salary2
# column 关键字可以省略
alter table emp3 add column salary1 double not null default 1000.0;
Query OK, 0 rows affected (0.03 sec)
Records: 0  Duplicates: 0  Warnings: 0

alter table emp3 add salary2 double not null default 2000.0;
Query OK, 0 rows affected (0.03 sec)
Records: 0  Duplicates: 0  Warnings: 0

desc emp3;
+---------------+-------------+------+-----+---------+-------+
| Field         | Type        | Null | Key | Default | Extra |
+---------------+-------------+------+-----+---------+-------+
| employee_id   | int         | NO   |     | 0       |       |
| employee_name | varchar(30) | YES  |     | NULL    |       |
| salary1       | double      | NO   |     | 1000    |       |
| salary2       | double      | NO   |     | 2000    |       |
+---------------+-------------+------+-----+---------+-------+
4 rows in set (0.00 sec)


# 删除 salary1 和 salary2 两列
# 同样 column 关键字可以省略
alter table emp3 drop column salary1;
Query OK, 0 rows affected (0.03 sec)
Records: 0  Duplicates: 0  Warnings: 0

alter table emp3 drop salary2;
Query OK, 0 rows affected (0.03 sec)
Records: 0  Duplicates: 0  Warnings: 0

desc emp3;
+---------------+-------------+------+-----+---------+-------+
| Field         | Type        | Null | Key | Default | Extra |
+---------------+-------------+------+-----+---------+-------+
| employee_id   | int         | NO   |     | 0       |       |
| employee_name | varchar(30) | YES  |     | NULL    |       |
+---------------+-------------+------+-----+---------+-------+
2 rows in set (0.00 sec)
```


# 数据增删改

## 插入数据 `INSERT`

### 使用 `INSERT` 插入数据

插入数据语法格式

```sql
# 插入一条数据
# VALUES 值列表中需要为每个字段指定值，并且指定值的顺序必须和数据表中字段定义的顺序保持一致;
INSERT INTO 表名 VALUES(value1, value2, ...);

# 插入一条数据，指定字段设置值
# 指定字段设置值，没有指定的字段取默认值
# VALUES 中的值的顺序，要与目标字段的顺序保持一致
INSERT INTO 表名 (column1, column3, column5, ...) VALUES(value1, value3, value5, ...);

# 插入多条数据
# INSERT 插入多条数据时，VALUES 后的每一条数据之间需要使用 逗号 分隔;
INSERT INTO 表名
VALUES
(value1, value2, ...),
(value1, value2, ...),
(value1, value2, ...);
```

```sql
desc emp5;
+-------------+-------------+------+-----+---------+-------+
| Field       | Type        | Null | Key | Default | Extra |
+-------------+-------------+------+-----+---------+-------+
| employee_id | int         | NO   |     | 0       |       |
| last_name   | varchar(25) | NO   |     | NULL    |       |
| salary      | double(8,2) | YES  |     | NULL    |       |
+-------------+-------------+------+-----+---------+-------+
3 rows in set (0.00 sec)


# 插入一条数据
insert into emp5 values(1, 'zhangsan', 10000);
Query OK, 1 row affected (0.01 sec)

select * from emp5;
+-------------+-----------+----------+
| employee_id | last_name | salary   |
+-------------+-----------+----------+
|           1 | zhangsan  | 10000.00 |
+-------------+-----------+----------+
1 row in set (0.00 sec)


# 插入数据，指定列
insert into emp5 (last_name, employee_id) values('lisi', 2);
Query OK, 1 row affected (0.01 sec)

select * from emp5;
+-------------+-----------+----------+
| employee_id | last_name | salary   |
+-------------+-----------+----------+
|           1 | zhangsan  | 10000.00 |
|           2 | lisi      |     NULL |
+-------------+-----------+----------+
2 rows in set (0.00 sec)

# 插入多列数据
insert into emp5 (employee_id, last_name) values (3, 'aa'), (4, 'bb');
Query OK, 2 rows affected (0.01 sec)
Records: 2  Duplicates: 0  Warnings: 0

select * from emp5;
+-------------+-----------+----------+
| employee_id | last_name | salary   |
+-------------+-----------+----------+
|           1 | zhangsan  | 10000.00 |
|           2 | lisi      |     NULL |
|           3 | aa        |     NULL |
|           4 | bb        |     NULL |
+-------------+-----------+----------+
4 rows in set (0.00 sec)
```

### 使用查询结果插入到表中

`INSERT` 可以将 `SELECT` 语句查询结果插入到表中，此时不需要把每一条记录的值一个一个的输入，只需要使用一条 `INSERT` 语句和一条 `SElECT` 语句组成的组合语句即可快速的从一个或多个表中向一个表中插入多行数据;

语法如下:

```sql
# 在 INSERT 语句中加入子查询，不必书写 VALUES 子句
# 子查询的值列表应与 INSERT 子句中的列名对应;
INSERT INTO 目标表名 (column1, column2, ...)
SELECT (column1, column2, ...) FROM 源表名 [WHERE CONDITION];
```

```sql
desc emp5;
+-------------+-------------+------+-----+---------+-------+
| Field       | Type        | Null | Key | Default | Extra |
+-------------+-------------+------+-----+---------+-------+
| employee_id | int         | NO   |     | 0       |       |
| last_name   | varchar(25) | NO   |     | NULL    |       |
| salary      | double(8,2) | YES  |     | NULL    |       |
+-------------+-------------+------+-----+---------+-------+
3 rows in set (0.00 sec)

select * from emp5;
+-------------+-----------+----------+
| employee_id | last_name | salary   |
+-------------+-----------+----------+
|           1 | zhangsan  | 10000.00 |
|           2 | lisi      |     NULL |
|           3 | aa        |     NULL |
|           4 | bb        |     NULL |
+-------------+-----------+----------+
4 rows in set (0.00 sec)


select employee_id, last_name, salary from employees where salary > 15000;
+-------------+-----------+----------+
| employee_id | last_name | salary   |
+-------------+-----------+----------+
|         100 | King      | 24000.00 |
|         101 | Kochhar   | 17000.00 |
|         102 | De Haan   | 17000.00 |
+-------------+-----------+----------+
3 rows in set (0.00 sec)


# 插入查询结果

insert into emp5 (employee_id, last_name, salary) select employee_id, last_name, salary from employees where salary > 15000;
Query OK, 3 rows affected (0.01 sec)
Records: 3  Duplicates: 0  Warnings: 0

select * from emp5;
+-------------+-----------+----------+
| employee_id | last_name | salary   |
+-------------+-----------+----------+
|           1 | zhangsan  | 10000.00 |
|           2 | lisi      |     NULL |
|           3 | aa        |     NULL |
|           4 | bb        |     NULL |
|         100 | King      | 24000.00 |
|         101 | Kochhar   | 17000.00 |
|         102 | De Haan   | 17000.00 |
+-------------+-----------+----------+
7 rows in set (0.00 sec)
```













